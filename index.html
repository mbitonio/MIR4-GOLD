<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MIR4 GOLD ðŸª™ â€” Sell</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --txt:#fff7fb; --mut:#ccb9c1;
    --green:#21d072; --blue:#1877f2; --discord:#5865f2;
    --red1:#1a0f14; --red2:#120a10; --ink:#09060a;
    --border: rgba(255,200,80,.12);
    --glow-soft: 0 0 16px rgba(255,200,60,.12);
  }
  *{box-sizing:border-box}
  html,body{margin:0;color:var(--txt);font-family:Poppins,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--ink);min-height:100%}

  body::before{content:"";position:fixed;inset:-20% -20%;z-index:-3;pointer-events:none;
    background:
      radial-gradient(40% 30% at 15% 10%, rgba(255,200,60,.12), transparent 60%),
      radial-gradient(38% 28% at 85% 5%, rgba(200,150,40,.08), transparent 65%),
      radial-gradient(55% 40% at 50% 110%, rgba(255,190,60,.08), transparent 72%);
    filter: blur(10px) saturate(112%); animation:bgFloat 16s ease-in-out infinite alternate;}
  @keyframes bgFloat{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(1.2%,-1.2%,0)}}
  body::after{content:"";position:fixed;inset:0;z-index:-2;pointer-events:none;opacity:.35;
    background:
      radial-gradient(circle at 18% 28%, rgba(255,220,130,.12) 0 1px, transparent 2px),
      radial-gradient(circle at 78% 18%, rgba(255,200,100,.10) 0 1px, transparent 2px);
    animation:spark 11s linear infinite;}
  @keyframes spark{0%{transform:translateY(0)}100%{transform:translateY(-8px)}}

  .wrap{max-width:760px;margin:auto;padding:16px 14px 120px}
  .title{display:flex;gap:10px;justify-content:center;font-weight:800;font-size:22px;letter-spacing:.4px;margin:2px 0 8px;text-shadow:0 0 10px rgba(255,200,60,.15)}

  .logoWrap{display:grid;place-items:center;margin:6px 0 8px}
  .logo{width:min(44vw,186px);aspect-ratio:1/1;border-radius:999px;position:relative;display:grid;place-items:center;background:transparent;overflow:visible}
  .ring{position:absolute;inset:8px;border-radius:999px;background:transparent;box-shadow:0 0 28px rgba(255,180,60,.95);animation:spin 9s linear infinite;opacity:.85}
  @keyframes spin{to{transform:rotate(360deg)}}
  .logo img{width:82%;border-radius:999px}

  .owner{margin:10px auto 8px;display:flex;gap:10px;align-items:center;justify-content:center;padding:10px 12px;border-radius:14px;background:linear-gradient(180deg,#131218,#0d0c12);border:1px solid rgba(255,255,255,.06);box-shadow:0 0 16px rgba(0,0,0,.25);font-weight:800;max-width:560px}
  .owner a{color:#fff;text-decoration:none;display:inline-flex;align-items:center;gap:8px}

  .row{display:grid;gap:12px}
  .prices{display:grid;grid-template-columns:1fr;margin:6px 0 10px}
  .pill{position:relative;background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.00));border:1px solid var(--border);border-radius:18px;padding:12px;text-align:center;box-shadow:inset 0 0 0 1px rgba(255,180,60,.03), var(--glow-soft)}
  .pval{font-size:22px;font-weight:900; color:#ffd86b}
  .ptxt{font-size:12px;color:#ccb9c1}

  .section{background:linear-gradient(180deg,var(--red1),var(--red2));border:1px solid var(--border);border-radius:18px;padding:14px;box-shadow:var(--glow-soft)}
  .label{font-size:13px;color:#ccb9c1;margin:4px 2px 6px}
  .in{width:100%;border:1px solid rgba(255,180,60,.12);background:#0b090c;color:#fff;padding:14px;border-radius:14px;font-size:18px;outline:none;box-shadow:inset 0 0 14px rgba(255,170,40,.03), 0 0 12px rgba(255,180,60,.06)}
  .in:focus{border-color:#ffcf6b;box-shadow:0 0 0 3px rgba(255,180,60,.08), var(--glow-soft)}
  .hint{font-size:12px;color:#a8989f;margin-top:6px}
  .warn{margin-top:8px;font-size:12px;color:#ffb3a6;display:none}
  .grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:10px}
  .box{background:linear-gradient(180deg,#1a1218,#120e13);border:1px solid rgba(255,180,60,.10);border-radius:16px;padding:12px;text-align:center;box-shadow:var(--glow-soft)}
  .box h5{margin:0 0 4px;font-size:12px;color:#ccb9c1}
  .rateOut{font-weight:900;font-size:18px;color:#ffd86b}

  .btn{display:inline-flex;align-items:center;justify-content:center;gap:10px;border:none;border-radius:14px;padding:14px 16px;font-weight:800;letter-spacing:.2px;cursor:pointer;user-select:none}
  .buy{background:var(--green);color:#092112;font-size:18px;box-shadow:0 18px 44px rgba(33,208,114,.24);width:100%;margin-top:10px;transition:transform .12s}
  .buy:active{transform:translateY(1px)}
  .btn[disabled]{opacity:.55;filter:grayscale(.25);cursor:not-allowed}

  .pay{background:linear-gradient(180deg,#11111a,#0b0c12);border:1px solid rgba(24,119,242,.10);border-radius:18px;padding:12px 14px;box-shadow:0 0 18px rgba(24,119,242,.06);margin-top:10px}
  .gcashRow{display:flex;align-items:center;gap:12px;justify-content:space-between;background:rgba(24,119,242,.04);border:1px solid rgba(24,119,242,.08);padding:10px 12px;border-radius:12px;max-width:560px;margin:8px auto 10px;box-shadow:0 10px 24px rgba(24,119,242,.04);font-weight:800;cursor:pointer}
  .gcashLeft{display:flex;align-items:center;gap:10px}
  .gcashIcon{width:26px;height:26px;border-radius:999px;background:#1877f2;display:grid;place-items:center;box-shadow:0 0 10px rgba(24,119,242,.20);font-weight:900;color:#fff}
  .qrBtn{display:inline-flex;align-items:center;gap:8px;background:rgba(24,119,242,.06);color:#eaf3ff;border:1px solid rgba(24,119,242,.10);padding:8px 12px;border-radius:10px;font-weight:800}
  .soc{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
  .btnlink{display:inline-flex;align-items:center;justify-content:center;gap:10px;border-radius:14px;padding:14px 16px;font-weight:800;letter-spacing:.2px;text-decoration:none}
  .fb{background:var(--blue);color:#fff}
  .dc{background:var(--discord);color:#fff}

  .notice{margin-top:12px;padding:12px 14px;border-radius:14px;background:linear-gradient(180deg,#17141a,#120f14);border:1px solid rgba(255,255,255,.06);box-shadow:0 0 16px rgba(0,0,0,.25)}
  .notice h4{margin:0 0 6px;font-size:14px}
  .notice p{margin:0;color:#ccb9c1;font-size:13px}

  @media (max-width:560px){ .grid2{grid-template-columns:1fr} }
</style>
</head>
<body>
  <div class="wrap">
    <div class="title">MIR4 GOLD ðŸª™ â€” SELL</div>

    <div class="logoWrap">
      <div class="logo" id="secretLogo">
        <div class="ring"></div>
        <img src="logo.png" alt="Logo">
      </div>
    </div>

    <div class="owner">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="#1877f2" aria-hidden="true"><path d="M22 12.07C22 6.48 17.52 2 11.93 2S2 6.48 2 12.07c0 5.01 3.66 9.17 8.44 9.93v-7.02H7.9v-2.91h2.54V9.41c0-2.5 1.49-3.89 3.77-3.89 1.09 0 2.24.2 2.24.2v2.46h-1.26c-1.24 0-1.63.77-1.63 1.56v1.87h2.78l-.44 2.91h-2.34V22c4.78-.76 8.44-4.92 8.44-9.93z"/></svg>
      <a href="https://www.facebook.com/share/1FWLHh32iE/" target="_blank" rel="noopener">
        <span class="ownerName">MOISES TRAJANO BITONIO</span>
      </a>
    </div>

    <div class="row prices">
      <div id="pillBase" class="pill">
        <div class="pval">4.5 ðŸª™ per â‚±1</div>
        <div class="ptxt">â‚±0.2222 per GOLD â€¢ minimum â‚±500</div>
      </div>
    </div>

    <div class="section">
      <div class="label">Enter Gold ðŸª™</div>
      <input id="gold" class="in" inputmode="numeric" autocomplete="off" placeholder="e.g. 2250">

      <div class="label" style="margin-top:10px">ENTER PHP â‚±</div>
      <input id="phpIn" class="in" inputmode="decimal" autocomplete="off" placeholder="e.g. 500.00">

      <div class="label" style="margin-top:10px">Server (Required â€” fill up)</div>

      <div class="suggestions">
        <input id="serverIn" class="in" placeholder="Fill up server (e.g., ASIA-022 / HOF1)" autocomplete="off" required>
        <div id="suggestList" class="suggestions-list" style="display:none"></div>
      </div>

      <div class="hint">Kailangan punan ang Server bago mag-send. Minimum order is â‚±500 (o katumbas na gold).</div>
      <div id="warn" class="warn">Minimum â‚±500 required and Server is needed.</div>

      <div class="grid2" style="margin-top:12px">
        <div class="box">
          <h5>Rate</h5>
          <div id="rateOut" class="rateOut">â€”</div>
        </div>
        <div class="box" style="visibility:hidden">
          <h5>placeholder</h5>
          <div class="rateOut">â€”</div>
        </div>
      </div>
    </div>

    <button id="buyBtn" type="button" class="btn buy" disabled>âœ… COPY AND SEND TO SELLER</button>
    <div class="label" style="text-align:center;margin-top:8px">Fill server, at siguraduhing ang total ay hindi bababa sa â‚±500.</div>

    <div class="pay">
      <div id="gcashRow" class="gcashRow" title="Tap to copy number">
        <div class="gcashLeft">
          <div class="gcashIcon">G</div>
          GCash â€¢ <strong id="gcashNumber">09162466318 â€” MOISES B.</strong>
        </div>
        <button id="showQR" type="button" class="qrBtn" title="Show GCash QR">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="#cfe4ff" aria-hidden="true"><path d="M3 3h8v8H3V3zm2 2v4h4V5H5zm6 6h8v8h-8v-8zm2 2v4h4v-4h-4zM3 13h8v8H3v-8zm2 2v4h4v-4H5zm12-12h4v4h-4V3z"/></svg>
          Show QR
        </button>
      </div>

      <div id="goRow" class="gcashRow" title="Tap to copy account" style="background:rgba(0,214,231,.06);border-color:rgba(0,214,231,.08)">
        <div class="gcashLeft">
          <svg width="26" height="26" viewBox="0 0 32 32" aria-hidden="true" style="border-radius:999px; box-shadow:0 0 10px rgba(0,214,231,.10)"><rect x="0" y="0" width="32" height="32" rx="16" fill="#00D6E7"/><path d="M10.5 16a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0z" fill="#00353A" opacity=".95"/></svg>
          GoTyme â€¢ <strong id="goNumber">014664932955 â€” MOISES BITONIO</strong>
        </div>
        <button id="showGoQR" type="button" class="qrBtn" title="Show GoTyme QR" style="background:rgba(0,214,231,.10);border-color:rgba(0,214,231,.12);color:#d6fffe">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="#d6fffe" aria-hidden="true"><path d="M3 3h8v8H3V3zm2 2v4h4V5H5zm6 6h8v8h-8v-8zm2 2v4h4v-4h-4z"/></svg>
          Show QR
        </button>
      </div>

      <div class="soc">
        <a class="btnlink fb" href="https://www.facebook.com/share/p/17MiaRJ24J/" target="_blank" rel="noopener">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="#fff" aria-hidden="true"><path d="M22 12.07C22 6.48 17.52 2 11.93 2S2 6.48 2 12.07c0 5.01 3.66 9.17 8.44 9.93v-7.02H7.9v-2.91h2.54V9.41c0-2.5 1.49-3.89 3.77-3.89 1.09 0 2.24.2 2.24.2v2.46 h-1.26c-1.24 0-1.63.77-1.63 1.56v1.87h2.78l-.44 2.91h-2.34V22c4.78-.76 8.44-4.92 8.44-9.93z"/></svg>
          FACEBOOK FEEDBACK
        </a>
        <a class="btnlink dc" href="https://discord.gg/QkdVz5mh" target="_blank" rel="noopener">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="#fff" aria-hidden="true"><path d="M20.3 4.4A16 16 0 0015.9 3l-.4.8a13.3 13.3 0 00-7 0L8.1 3A16 16 0 003.7 4.4C1.7 7.5 1 10.5 1.2 13.4a16 16 0 005.9 3l.8-1.3c-.4-.1-.7-.3-1-.4.1-.1.2-.2.3-.3 1.9.9 4 .9 5.9 0l.3.3c-.3.2-.6.3-1 .4l.8 1.3a16 16 0 005.9-3c.3-3-.5-5.9-2.8-9zM9.6 13c-.9 0-1.6-.8-1.6-1.7S8.7 9.6 9.6 9.6s1.6.8 1.6 1.7S10.5 13 9.6 13zm4.8 0c-.9 0-1.6-.8-1.6-1.7s.7-1.7 1.6-1.7 1.6.8 1.6 1.7-.7 1.7-1.6 1.7z"/></svg>
          DISCORD FEEDBACK
        </a>
      </div>
    </div>

    <div class="notice">
      <h4>âœ… Thank you</h4>
      <p>Salamat sa order! I-paste ang na-copy na order sa Messenger para i-proceed ang transaction.</p>
    </div>

  </div>

  <!-- BUY Popup -->
  <div id="buyPopup">
    <div class="cardPop" style="width:min(92vw,520px);background:#0f0d10;border:1px solid rgba(255,200,80,.12);border-radius:18px;padding:18px;text-align:center">
      <h3>Copied âœ”</h3>
      <p id="buyMsg"><strong>I-PASTE MO ITO SA MESSENGER KO.</strong><br>Open Messenger then paste the order message.</p>
      <div id="buyOrderId" style="margin:10px 0 6px;font-weight:800"></div>
      <button id="closePop" class="btn" style="background:#272327;color:#fff;width:160px;margin:auto">OK</button>
    </div>
  </div>

  <!-- GCash etc. popups -->
  <div id="gcashPopup">
    <div class="cardPop">
      <h3>GCash number copied âœ”</h3>
      <p><strong>09162466318 â€” MOISES B.</strong><br>Paste sa GCash Express Send.</p>
      <button id="gcashOk" class="btn" style="background:#272327;color:#fff;width:160px;margin:auto">OK</button>
    </div>
  </div>
  <div id="qrPopup">
    <div class="cardPop">
      <h3>GCash QR</h3>
      <p>Scan to pay â€¢ <strong>MOISES B.</strong></p>
      <img src="gcash-qr.png" alt="GCash QR" class="qrImg" style="max-width:86vw;max-height:70vh;border-radius:12px;border:1px solid rgba(255,255,255,.12)">
      <div style="margin-top:12px"><button id="qrOk" class="btn" style="background:#272327;color:#fff;width:160px;margin:auto">Close</button></div>
    </div>
  </div>
  <div id="goPopup">
    <div class="cardPop">
      <h3>GoTyme account copied âœ”</h3>
      <p><strong>014664932955 â€” MOISES BITONIO</strong><br>Paste sa GoTyme Send Money.</p>
      <button id="goOk" class="btn" style="background:#272327;color:#fff;width:160px;margin:auto">OK</button>
    </div>
  </div>
  <div id="goQRPopup">
    <div class="cardPop">
      <h3>GoTyme QR</h3>
      <p>Scan to pay â€¢ <strong>MOISES BITONIO</strong></p>
      <img src="gotyme-qr.png" alt="GoTyme QR" class="qrImg" style="max-width:86vw;max-height:70vh;border-radius:12px;border:1px solid rgba(255,255,255,.12)">
      <div style="margin-top:12px"><button id="goQROk" class="btn" style="background:#272327;color:#fff;width:160px;margin:auto">Close</button></div>
    </div>
  </div>

<script>
(function(){
  document.addEventListener('DOMContentLoaded', () => {
    const $ = id => document.getElementById(id);
    const clean = v => String(v ?? '').replace(/[^\d.]/g,'');
    const toInt = v => { const m = clean(v).match(/^\d+/); return m? parseInt(m[0],10):0; };
    const toNum = v => { const m = clean(v).match(/^\d+(?:\.\d+)?/); return m? parseFloat(m[0]):0; };
    const fmt = n => Number(n).toLocaleString(undefined,{minimumFractionDigits:2, maximumFractionDigits:2});

    // Settings: 1 PHP = 4.5 GOLD, minimum â‚±500
    const GOLD_PER_PHP = 4.5;
    const PRICE_PER_GOLD = 1 / GOLD_PER_PHP; // â‰ˆ 0.2222 PHP per gold
    const MIN_PHP = 500;

    // Server list (same as before)
    const servers = [
"ç ´å†›","8888","DaddyKim","DaddyVerse","DaddyWorld","HOF1","HOF2","HOF3","HOF4","HOF5","HOF6","HERO","KINGS","Kings2","Kings3","Kings4","xaou","Chess","ISEKAI","ManiTW","PROSGARD","X","MEGA","Sky","Tokyo","Bangkok","Taipei","Asia014","Asia015","Asia016","Asia017","Asia018","Asia019","Asia020","Asia021","Asia022","Asia023","Asia024","Asia025","Asia026","Asia027","Asia028","Asia029","Asia030","Asia031","Asia032","Asia033","Asia034","Asia035","Asia036","Asia037","Asia038","Asia039","Asia040","Asia041","Asia042","Asia043"
    ];

    function serverIsValid(v){ return servers.includes((v||'').trim()); }

    // convert helpers
    function goldFromPHP(p){ if(!p||p<=0) return 0; return Math.floor(p * GOLD_PER_PHP); }
    function phpFromGold(g){ if(!g||g<=0) return 0; return g * PRICE_PER_GOLD; }

    const goldEl = $('gold'), phpEl = $('phpIn'), serverEl = $('serverIn');
    const rateOut = $('rateOut'), warn = $('warn'), buyBtn = $('buyBtn'), suggestList = $('suggestList');

    let lastEdited = null;

    function recalc(){
      let g = toInt(goldEl.value);
      let p = toNum(phpEl.value);

      if(lastEdited === 'p'){
        g = goldFromPHP(p);
        goldEl.value = g ? String(g) : '';
      } else if(lastEdited === 'g'){
        p = phpFromGold(g);
        phpEl.value = p ? fmt(p) : '';
      } else {
        if(!g && p){ g = goldFromPHP(p); goldEl.value = g ? String(g) : ''; }
        if(g && !p){ p = phpFromGold(g); phpEl.value = p ? fmt(p) : ''; }
      }

      // Determine effective PHP for validation (if user only entered gold, compute php)
      const effectivePHP = p || (g ? phpFromGold(g) : 0);
      const serverFilled = serverEl.value && serverEl.value.trim().length>0;

      const ok = effectivePHP >= MIN_PHP && serverFilled;
      warn.style.display = ok ? 'none' : 'block';
      buyBtn.disabled = !ok;

      if(effectivePHP || g){
        rateOut.textContent = `${GOLD_PER_PHP.toFixed(2)} ðŸª™ per â‚±1 â€¢ â‚±${PRICE_PER_GOLD.toFixed(4)} / GOLD`;
      } else {
        rateOut.textContent = 'â€”';
      }
    }

    ['input','change','keyup'].forEach(ev=>{
      goldEl.addEventListener(ev, ()=>{ lastEdited='g'; recalc(); });
      phpEl.addEventListener(ev, ()=>{ lastEdited='p'; recalc(); });
      serverEl.addEventListener('input', ()=>{ filterServers(serverEl.value); recalc(); });
    });
    recalc();

    function filterServers(q){
      const v = String(q||'').trim();
      if(!v){ suggestList.style.display='none'; suggestList.innerHTML=''; return; }
      const qlow = v.toLowerCase();
      const matches = servers.filter(s=>s.toLowerCase().includes(qlow)).slice(0,80);
      if(matches.length===0){ suggestList.style.display='none'; suggestList.innerHTML=''; return; }
      suggestList.innerHTML = matches.map(s=>`<div class="suggest-item" data-val="${escapeHtml(s)}">${escapeHtml(s)}</div>`).join('');
      suggestList.style.display='block';
      Array.from(suggestList.children).forEach(ch=>{
        ch.addEventListener('click', ()=>{
          serverEl.value = ch.getAttribute('data-val');
          suggestList.style.display='none';
          recalc();
        });
      });
    }
    function escapeHtml(t){ return String(t).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

    document.addEventListener('click', (e)=>{
      if(!e.target.closest('.suggestions')){ suggestList.style.display='none'; }
    });

    $('buyBtn').addEventListener('click', async ()=>{
      let g = toInt(goldEl.value);
      let p = toNum(phpEl.value);
      if(!g && p) g = goldFromPHP(p);
      if(!p && g) p = phpFromGold(g);
      if(!p || !g || !serverEl.value || !serverEl.value.trim()) { recalc(); return; }

      const rid = `MIR4G-${Date.now().toString(36).toUpperCase().slice(-6)}`;
      const totalPHP = Number(p).toLocaleString(undefined,{minimumFractionDigits:2, maximumFractionDigits:2});
      const msg = `BUY ORDER\nGold: ${g} ðŸª™\nServer: ${serverEl.value.trim()}\nRate: ${GOLD_PER_PHP} GOLD per â‚±1 (â‚±${PRICE_PER_GOLD.toFixed(4)} / GOLD)\nTotal: â‚±${totalPHP}\nGCash: 09162466318 (MOISES B.)\nReceipt ID: ${rid}`;

      try{ await navigator.clipboard.writeText(msg); }catch{}
      $('buyOrderId').textContent = `Receipt ID: ${rid}`;
      $('buyPopup').style.display='grid';
    });

    $('closePop').addEventListener('click', ()=> $('buyPopup').style.display='none');

    /* GCash copy + popup */
    (function(){
      const row=$('gcashRow'), pop=$('gcashPopup'), ok=$('gcashOk');
      row.addEventListener('click', async ()=>{
        try{ await navigator.clipboard.writeText('09162466318'); }catch{}
        pop.style.display='grid';
      });
      ok.addEventListener('click', ()=> pop.style.display='none');
    })();

    (function(){
      const btn=$('showQR'), modal=$('qrPopup'), close=$('qrOk');
      btn.addEventListener('click', ()=> modal.style.display='grid');
      close.addEventListener('click', ()=> modal.style.display='none');
    })();

    (function(){
      const row=$('goRow'), pop=$('goPopup'), ok=$('goOk');
      row.addEventListener('click', async ()=>{
        try{ await navigator.clipboard.writeText('014664932955'); }catch{}
        pop.style.display='grid';
      });
      ok.addEventListener('click', ()=> pop.style.display='none');
    })();

    (function(){
      const btn=$('showGoQR'), modal=$('goQRPopup'), close=$('goQROk');
      btn.addEventListener('click', ()=> modal.style.display='grid');
      close.addEventListener('click', ()=> modal.style.display='none');
    })();

  });
})();
</script>
</body>
</html>
